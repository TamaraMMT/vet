{% extends 'global/base.html' %}
{% load static %}

{% block title %}{{ category.name }} Category{% endblock title %}

{% block content %}


<div class="p-9">
    <div class="grid justify-items-center">
        <div class="max-w-4xl">
            <h1 class="text-4xl text-center font-semibold text-black">Posts in {{ category.name }} Category</h1>
            <p class="m-4 text-lg text-center text-gray-600">Explore our articles for tips, insights, and stories about caring for your beloved pets. Whether it's advice on nutrition, health, or heartwarming tales, we've got you covered.</p>
        </div>
    </div>
    <div class="flex justify-center ">
        <div class="grid md:grid-cols-1 lg:grid-cols-1 gap-6">
            {% for post in post_list_category %}
                <div class=" bg-white rounded-xl shadow-md overflow-hidden ">
                    <div class="md:flex md:flex-col">
                        <div class="md:shrink-0 sm:h-44 md:h-44 ">
                            <a href="{% url 'blog:post' pk=post.pk %}">
                                {% if post.cover %}
                                    <img class="w-full max-h-44 object-cover" src="{{ post.cover.url }}" alt="Image Veterinary">
                                {% else %}
                                    <img class="w-full max-h-44 object-cover" src="{% static 'media\blog\default-image-post.jpg' %}" alt="Default Image">
                                {% endif %}
                            </a>
                        </div>
                        <div class="p-5 min-w-[900px]">
                            <a href="{% url 'blog:post' pk=post.pk %}" class="block   text-lg font-medium text-black hover:underline">{{ post.title }}</a>
                            {% if post.author %}
                                <h2 class=" text-indigo-500 font-semibold mt-2">
                                    {% if post.author.first_name %}
                                        {{ post.author.first_name }}{{ post.author.last_name }}
                                    {% else %}
                                        {{ post.author.username }}
                                    {% endif %}
                                </h2>
                            {% else %}
                                <h2 class=" text-indigo-500 font-semibold mt-2">Author unknown</h2>
                            {% endif %}
                            <a href="{% url 'blog:post' pk=post.pk %}">
                                <p class="mt-2 text-gray-600 leading-relaxed">{{ post.article|truncatechars:180 }}</p>
                            </a>
                            <a href="{% url 'blog:category_posts' pk=post.category.pk %}">
                                <div class="mt-3 text-gray-800 font-semibold hover:underline">Category: {{ post.category }}</div>
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% if post_list_category.has_other_pages %}
            {% include 'blog/pagination.html' %}
            {% endif %}
            </div>
        </div>
    </div>
</div>


{% endblock content %}
